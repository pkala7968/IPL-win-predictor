<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPL Match Result Predictor</title>
</head>
<body>
    <h1>IPL Match Result Predictor</h1>
    <form action="/predict" method="POST">
        <label for="team1">Team 1:</label>
        <select id="team1" name="team1" required>
            {% for team in teams %}
                <option value="{{ team }}">{{ team }}</option>
            {% endfor %}
        </select><br><br>

        <label for="team2">Team 2:</label>
        <select id="team2" name="team2" required>
            {% for team in teams %}
                <option value="{{ team }}">{{ team }}</option>
            {% endfor %}
        </select><br><br>

        <label for="venue">Venue:</label>
        <input type="text" id="venue" name="venue" required><br><br>

        <label for="toss_winner">Toss Winner:</label>
        <select id="toss_winner" name="toss_winner" required>
            {% for team in teams %}
                <option value="{{ team }}">{{ team }}</option>
            {% endfor %}
        </select><br><br>

        <label for="toss_decision">Toss Decision:</label>
        <select id="toss_decision" name="toss_decision" required>
            <option value="Batting">Batting</option>
            <option value="Bowling">Bowling</option>
        </select><br><br>

        <label for="team1_avg_runs_last_5">Team 1 Avg Runs (Last 5 Matches):</label>
        <input type="number" id="team1_avg_runs_last_5" name="team1_avg_runs_last_5" step="0.1" required><br><br>

        <label for="team2_avg_runs_last_5">Team 2 Avg Runs (Last 5 Matches):</label>
        <input type="number" id="team2_avg_runs_last_5" name="team2_avg_runs_last_5" step="0.1" required><br><br>

        <button type="submit">Predict Winner</button>
    </form>

    <h2>Prediction Result:</h2>
    <p id="result"></p>

    <script>
        const form = document.querySelector("form");
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const formData = new FormData(form);
            const response = await fetch("/predict", {
                method: "POST",
                body: formData,
            });
            const result = await response.json();
            document.getElementById("result").innerText = `Predicted Winner: ${result.predicted_winner}`;
        });
    </script>
</body>
</html>